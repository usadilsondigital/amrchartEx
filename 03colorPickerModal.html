
<!DOCTYPE html>
<html>

<head>
  <title>Color canvas modal</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</head>

<body>


<canvas id="color-picker" width="300" height="300"></canvas>
  <h1>This is a color picker</h1>
  <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal">
    Open modal
  </button>

  <!--MODAL-->
  <!-- The Modal -->
<div class="modal" id="myModal">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Modal Heading</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        Modal body..
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>
<!--END MODAL-->


  <script>

const canvas = document.getElementById("color-picker");
const ctx = canvas.getContext("2d");
// Create a gradient with more colors
const gradient = ctx.createLinearGradient(0, 0, canvas.width, 0);
gradient.addColorStop(0, "purple");
gradient.addColorStop(0.20, "blue");
gradient.addColorStop(0.40, "yellow");
gradient.addColorStop(0.60, "orange");
gradient.addColorStop(0.80, "red");
gradient.addColorStop(1, "green");


// Fill the canvas with the gradient
ctx.fillStyle = gradient;
ctx.fillRect(0, 0, canvas.width, canvas.height);


canvas.addEventListener("click", function(event) {
  const x = event.offsetX;
  const y = event.offsetY;

  // Get pixel data at the clicked position
  const pixelData = ctx.getImageData(x, y, 1, 1).data;

  // Extract RGB values
  const red = pixelData[0];
  const green = pixelData[1];
  const blue = pixelData[2];

  // Create and display the selected color
  const selectedColor = `rgb(${red}, ${green}, ${blue})`;
  console.log(selectedColor); // You can use this color as needed
});


  </script>

</body>
</html>